class Table{constructor(t,e=!0){this._initBaseVariables(t,e),this._initPaginations(),this._initTableRendering(),this._table=null}_initBaseVariables(t,e){this._id=t,this._useUrl=e,this._layout="fitDataFill",this._placeholder="검색결과가 존재하지 않습니다.",this._minHeight=300,this._maxHeight=300,this._columnHeaderVertAlign="",this._columns=[],this._url="",this._data=[],this._selectedRows=[],this._useIndex=!0}_initTableRendering(){this._resizeable=!1,this._rowFormatter=null,this._rowClick=null,this._selectable=!1,this._afterComplete=null,this._checkbox=!1}_initPaginations(){this._pagination=!1,this._paging="local",this._paginationSize=6,this._paginationSizeSelector=[3,6,8,10],this._movableColumns=!0,this._paginationCounter="rows"}submit(t=[]){this._useUrl?Http.get(`${this._url}`).then(t=>{if(200===t.httpStatus){let e=this._setDataNum(t.message);this._table.replaceData(e)}}):(this._data=this._setDataNum(t),this._table.replaceData(this._data))}addData(t={}){this._useUrl?console.error("useUrl이 false인 경우에만 사용 가능합니다."):(this._data.push(t),this._data=this._setDataNum(this._data),this._table.replaceData(this._data))}usePagination(){return this._pagination=!0,this}setPlaceholder(t="검색결과가 존재하지 않습니다."){return this._placeholder=t,this}get(t=""){return this._useUrl?this._url=t:console.error("get의 경우 useUrl이 true인 경우에만 사용이 가능합니다."),this}setData(t=[]){return this._useUrl?console.error("setData의 경우 useUrl이 false인 경우에만 사용이 가능합니다."):this._data=t,this}checkbox(){return this._checkbox=!0,this}selectable(){return this._selectable=!0,this}changeLayout(t=""){return this._layout=t,this}rowClick(t){return this._rowClick=t,this}rowFormatter(t){return this._rowFormatter=t,this}afterComplete(t){return this._afterComplete=t,this}resizeable(){return this._resizeable=!0,this}headerBottom(){return this._columnHeaderVertAlign="bottom",this}headerMiddle(){return this._columnHeaderVertAlign="middle",this}deSelectAll(){this._selectable?(this._table.deselectRow(),this._selectedRows=[]):console.error("테이블의 selectable이 false입니다.")}selectAll(){this._selectable?this._table.selectRow():console.error("테이블의 selectable이 false입니다.")}getSelectedRows(){return this._selectedRows}add(t){return t instanceof Column&&this._columns.push(t.getCol()),this}notUseIndex(){return this._useIndex=!1,this}_setDataNum(t=[]){return this._useIndex?t.map((t,e)=>({...t,index:e+1})):t}init(){if(this._useUrl)Http.get(`${this._url}`).then(t=>{if(200===t.httpStatus){let e=this._setDataNum(t.message);this._initOptions(e)}});else{let t=this._setDataNum(this._data);this._initOptions(t)}}_initOptions(t){this._checkbox&&this._columns.unshift({formatter:"rowSelection",titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1,width:42,cssClass:"tabulator-checkbox",cellClick:function(t,e){e.getRow().toggleSelect()}});let e={data:t,selectable:this._selectable,placeholder:this._placeholder,columnHeaderVertAlign:this._columnHeaderVertAlign,layout:this._layout,minHeight:this._minHeight,columnDefaults:{resizable:this._resizeable},columns:this._columns};this._pagination&&(e.pagination=this._paging,e.paginationSize=this._paginationSize,e.paginationSizeSelector=this._paginationSizeSelector,e.movableColumns=this._movableColumns,e.paginationCounter=this._paginationCounter),this._rowFormatter&&(e.rowFormatter=this._rowFormatter);let i=`#${this._id}`,s=new Tabulator(i,e);this._rowClick&&s.on("rowClick",(t,e)=>{t.target.classList.contains("tabulator-checkbox")||t.target.classList.contains("select")||this._rowClick(e.getData(),e._row)}),this._afterComplete&&s.on("renderComplete",()=>this._afterComplete()),s.on("rowSelectionChanged",(t,e)=>this._selectedRows=t),this._table=s}}class Column{constructor(t){this._title="",this._field=t,this._headerSort=!1,this._width="10%",this._hozAlign="center",this._headerHozAlign="center",this._formatter=null,this._columns=[]}title(t=""){return this._title=t,this}width(t="10%"){return this._width=t,this}headerSort(t=!1){return this._headerSort=t,this}center(){return this._hozAlign="center",this._headerHozAlign="center",this}left(){return this._hozAlign="left",this._headerHozAlign="left",this}right(){return this._hozAlign="right",this._headerHozAlign="right",this}formatter(t){return this._formatter=t,this}add(t){return t instanceof Column&&this._columns.push(t.getCol()),this}getCol(){let t={title:this._title,headerSort:this._headerSort,width:this._width,hozAlign:this._hozAlign,headerHozAlign:this._headerHozAlign};return this._field&&(t.field=this._field),null!==this._formatter&&(t.formatter=this._formatter),this._columns.length&&(t.columns=this._columns),t}}class Util{static alert(t,e="s",i="s"){return Swal.fire({html:t,icon:"s"===e?"success":"warning",confirmButtonColor:"s"===i?"#3085d6":"#d33",focusConfirm:!1,confirmButtonText:"확인"})}static confirm(t,e="w",i="확인",s="취소"){return Swal.fire({html:t,icon:"w"===e?"warning":"success",focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i,cancelButtonText:s}).then(t=>t.isConfirmed)}}class Http{static get(t,e="",i="GET"){return $.ajax({type:i,url:t,data:e,dataType:"json"})}static post(t,e,i="POST"){return $.ajax({type:i,url:t,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})}static delete(t,e,i="DELETE"){return $.ajax({type:i,url:t,contentType:"application/json"})}static put(t,e,i="PUT"){return $.ajax({type:i,url:t,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})}}class MyUploadAdapter{constructor(t){this.loader=t,this.url="/api/uploadCKImageFile"}upload(){return this.loader.file.then(t=>new Promise((e,i)=>{this._initListeners(e,i,t),this._sendRequest(t)}))}abort(){this.controller&&this.controller.abort()}_initListeners(t,e,i){let s=this.loader,r=`Couldn't upload file: ${s.file.name}.`,a=new AbortController;this.controller=a;let n=a.signal;n.addEventListener("abort",()=>{e()});let l={method:"POST",body:new FormData,signal:n};l.body.append("file",i);let o=new Headers;o.append("Accept","application/json"),l.headers=o;let h=i=>{let s=i.headers.get("content-type");return s&&-1!==s.indexOf("application/json")?i.json().then(i=>{if(!i||i.error)return e(i&&i.error?i.error.message:r);t({default:i.url}),console.log("json : ",i)}):e(r)};fetch(this.url,l).then(h).catch(t=>{"AbortError"!==t.name&&e(r)})}_sendRequest(t){}}